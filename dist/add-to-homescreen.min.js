(()=>{"use strict";class e{constructor({appName:s,appIconUrl:r,assetUrl:t,showErrorMessageForUnsupportedBrowsers:o,allowUserToCloseModal:i,maxModalDisplayCount:n,errorMessageForUnsupportedBrowsers1:a,errorMessageForUnsupportedBrowsers2:d,errorMessageForUnsupportedBrowsers3:h,errorMessageForUnsupportedBrowsers4:l,errorMessageForUnsupportedBrowsers5:c,errorMessageForUnsupportedBrowsers6:p,buttonTextCopyToClipboard:g,titleText:u,messageLinkCopied:w,messageLinkCopiedError:m,textIosSafari1:S,textIosSafari2:A,textIosSafari3:I,textIosSafari4:O,textIosOpenSysbrowser1:_,textIosOpenSysbrowser2:v,textIosInAppBrowser:b,textAndroidChrome1:B,textAndroidChrome2:E,textAndroidChrome3:T,textAndroidChrome4:M}){this.appName=s,this._assertArg("appName","string"==typeof this.appName&&this.appName.length>0),this.appIconUrl=r,this._assertArg("appIconUrl","string"==typeof this.appIconUrl&&this.appIconUrl.length>0),this.assetUrl=t,this._assertArg("assetUrl","string"==typeof this.assetUrl&&this.assetUrl.length>0),this.showErrorMessageForUnsupportedBrowsers=void 0===o?e.SHOW_ERRMSG_UNSUPPORTED.ALL:o,this._assertArg("showErrorMessageForUnsupportedBrowsers",Object.values(e.SHOW_ERRMSG_UNSUPPORTED).includes(this.showErrorMessageForUnsupportedBrowsers)),this.allowUserToCloseModal=void 0!==i&&i,this._assertArg("allowUserToCloseModal","boolean"==typeof this.allowUserToCloseModal),this.maxModalDisplayCount=void 0===n?-1:n,this._assertArg("maxModalDisplayCount",Number.isInteger(this.maxModalDisplayCount)),this.closeEventListener=null,this.errorMessageForUnsupportedBrowsers1=null==a?"Please open this website with the Safari or Chrome app.":a,this.errorMessageForUnsupportedBrowsers2=null==d?"Adding to home screen is only supported in Safari or Chrome on IOS.":d,this.errorMessageForUnsupportedBrowsers3=null==h?"Please open this website with the Chrome app.":h,this.errorMessageForUnsupportedBrowsers4=null==l?"Adding to home screen is only supported in Chrome on Android.":l,this.errorMessageForUnsupportedBrowsers5=null==c?"Please open this website on a mobile device.":c,this.errorMessageForUnsupportedBrowsers6=null==p?"Installing to your home screen is currently only supported on IOS and Android.":p,this.buttonTextCopyToClipboard=null==g?"Copy Website Link to Clipboard":g,this.titleText=null==u?"Install the [APPNAME] app to continue":u,this.messageLinkCopied=null==w?"Link Copied to Clipboard!":w,this.messageLinkCopiedError=null==m?'Failed to Copy to Clipboard! (Try Again from "https://" Link)':m,this.textIosSafari1=null==S?"Tap the [BUTTON] button below.":S,this.textIosSafari2=null==A?"Select [EXAMPLEIMAGE] from the menu that pops up.":A,this.textIosSafari3=null==I?"You may need to scroll down to find this menu item.":I,this.textIosSafari4=null==O?"Open the [APPICON] app.":O,this.textIosOpenSysbrowser1=null==_?"Tap the [BUTTON] button above.":_,this.textIosOpenSysbrowser2=null==v?"Tap [ADHS_START] Open in browser [ADHS_END].":v,this.textIosInAppBrowser=null==b?"Tap the [BUTTON] button below to open your system browser.":b,this.textAndroidChrome1=null==B?"Tap the [BUTTON] button in the browser bar.":B,this.textAndroidChrome2=null==E?"Tap the [BUTTON]":E,this.textAndroidChrome3=null==T?"or [INSTALLAPP] button.":T,this.textAndroidChrome4=null==M?"Open the [APPICON] app.":M}isStandAlone(){return window.navigator.standalone||window.matchMedia("(display-mode: standalone)").matches}isDeviceAndroid(){return navigator.userAgent.match(/Android/)}isDeviceIOS(){return navigator.userAgent.match(/iPhone|iPad|iPod/)}isBrowserIOSSafari(){return this.isDeviceIOS()&&window.navigator.userAgent.match(/Safari/)&&!this.isBrowserIOSChrome()&&!this.isBrowserIOSFirefox()&&!this.isBrowserIOSInAppFacebook()&&!this.isBrowserIOSInAppLinkedin()&&!this.isBrowserIOSInAppInstagram()&&!this.isBrowserIOSInAppThreads()&&!this.isBrowserIOSInAppTwitter()}isBrowserIOSChrome(){return this.isDeviceIOS()&&navigator.userAgent.match(/CriOS/)}isBrowserIOSFirefox(){return this.isDeviceIOS()&&window.navigator.userAgent.match(/FxiOS/)}isBrowserIOSInAppFacebook(){return!!this.isDeviceIOS()&&window.navigator.userAgent.match(/FBAN|FBAV/)}isBrowserIOSInAppLinkedin(){return!!this.isDeviceIOS()&&window.navigator.userAgent.match(/LinkedInApp/)}isBrowserIOSInAppInstagram(){return!(!this.isDeviceIOS()||!window.document.referrer.match("//l.instagram.com/")&&!(window.navigator.userAgent.match(/iPhone/)&&window.screen.height&&window.outerHeight&&window.outerHeight<window.screen.height))}isBrowserIOSInAppThreads(){return this.isBrowserIOSInAppInstagram()}isBrowserIOSInAppTwitter(){return!!this.isDeviceIOS()&&window.document.referrer.match("//t.co/")}isBrowserAndroidChrome(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/Chrome/)&&!this.isBrowserAndroidFacebook()&&!this.isBrowserAndroidSamsung()&&!this.isBrowserAndroidFirefox()}isBrowserAndroidFacebook(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/FBAN|FBAV/)}isBrowserAndroidSamsung(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/SamsungBrowser/)}isBrowserAndroidFirefox(){return this.isDeviceAndroid()&&window.navigator.userAgent.match(/Firefox/)}show(){var s,r=!1;if(this.isStandAlone())return r=!1,new e.ReturnObj({isStandAlone:!0,canBeStandAlone:!0,device:this.isDeviceIOS()?e.PHONE_TYPE.IOS:e.PHONE_TYPE.ANDROID});if(this._hasReachedMaxModalDisplayCount())return r=!1,new e.ReturnObj({isStandAlone:null,canBeStandAlone:null,device:this.isDeviceIOS()?e.PHONE_TYPE.IOS:e.PHONE_TYPE.ANDROID});{r=!0,this._incrModalDisplayCount();const t=document.createElement("div");t.classList.add("adhs-container"),t.style.height=document.body.clientHeight+"px",t.style.width=window.innerWidth+"px",this.isDeviceIOS()?this.isBrowserIOSSafari()?(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!0,device:e.PHONE_TYPE.IOS}),this._genIOSSafari(t)):this.isBrowserIOSChrome()?(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!0,device:e.PHONE_TYPE.IOS}),this._genIOSChrome(t)):this.isBrowserIOSInAppFacebook()||this.isBrowserIOSInAppLinkedin()?(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:e.PHONE_TYPE.IOS}),this._genIOSInAppBrowserOpenInSystemBrowser(t)):this.isBrowserIOSInAppInstagram()||this.isBrowserIOSInAppThreads()||this.isBrowserIOSInAppTwitter()?(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:e.PHONE_TYPE.IOS}),this._genIOSInAppBrowserOpenInSafariBrowser(t)):(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:e.PHONE_TYPE.IOS}),this.showErrorMessageForUnsupportedBrowsers&e.SHOW_ERRMSG_UNSUPPORTED.MOBILE?this._genErrorMessage(t,this.errorMessageForUnsupportedBrowsers1,this.errorMessageForUnsupportedBrowsers2):r=!1):this.isDeviceAndroid()?this.isBrowserAndroidChrome()?(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!0,device:e.PHONE_TYPE.ANDROID}),this._genAndroidChrome(t)):this.isBrowserAndroidFacebook()?(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:e.PHONE_TYPE.ANDROID}),this._genIOSInAppBrowserOpenInSystemBrowser(t)):(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:e.PHONE_TYPE.ANDROID}),this.showErrorMessageForUnsupportedBrowsers&e.SHOW_ERRMSG_UNSUPPORTED.MOBILE?this._genErrorMessage(t,this.errorMessageForUnsupportedBrowsers3,this.errorMessageForUnsupportedBrowsers4):r=!1):(s=new e.ReturnObj({isStandAlone:!1,canBeStandAlone:!1,device:""}),this.showErrorMessageForUnsupportedBrowsers&e.SHOW_ERRMSG_UNSUPPORTED.DESKTOP?this._genErrorMessage(t,this.errorMessageForUnsupportedBrowsers5,this.errorMessageForUnsupportedBrowsers6):r=!1),r&&(document.body.appendChild(t),this._registerCloseListener(),setTimeout((()=>{t.classList.add("visible")}),50))}return s}close(){const e=document.querySelector(".adhs-container");e&&(e.classList.remove("visible"),setTimeout((()=>{e.remove(),this.closeEventListener&&(window.removeEventListener("touchstart",this.closeEventListener),window.removeEventListener("click",this.closeEventListener),this.closeEventListener=null)}),300))}_assertArg(e,s){if(!s)throw new Error("AddToHomeScreen: variable '"+e+"' has an invalid value.")}_genLogo(){return'\n      <div class="adhs-logo">\n        <img src="'+this.appIconUrl+'" alt="logo" />\n      </div>\n      '}_genErrorMessage(e,s,r){var t=this._genLogo()+this._genModalStart()+'<div class="adhs-error-title">'+s+'</div><div class="adhs-error-body">'+r+'</div><button class="adhs-error-copy-link-button" onclick="AddToHomeScreen.copyToClipboard();" ontouchstart="AddToHomeScreen.copyToClipboard();">'+this.buttonTextCopyToClipboard+"</button>"+this._genModalEnd();e.innerHTML=t}_genTitleWithMessage(e){return'\n      <div class="adhs-title">'+e+"</div>\n      "}_genTitle(){return this._genTitleWithMessage(this.titleText.replace(/\[APPNAME\]/g,this.appName))}_genModalStart(){return'<div class="adhs-modal">'}_genModalEnd(){return"</div>"}_genListStart(){return'<div class="adhs-list">'}_genListEnd(){return"</div>"}_genListItem(e,s){return'\n    <div class="adhs-list-item">\n      <div class="adhs-number-container">\n        <div class="adhs-circle">\n          <div class="adhs-number">'+e+'</div>\n        </div>\n      </div>\n      <div class="adhs-instruction">'+s+"</div>\n    </div>"}_genAssetUrl(e){return this.assetUrl+e}_genIOSSafari(e){var s=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",this.textIosSafari1.replace(/\[BUTTON\]/g,'<img class="adhs-ios-safari-sharing-api-button" src="'+this._genAssetUrl("ios-safari-sharing-api-button.svg")+'"/>'))+this._genListItem("2",this.textIosSafari2.replace(/\[EXAMPLEIMAGE\]/g,'<img class="adhs-ios-safari-add-to-home-screen-button" src="'+this._genAssetUrl("ios-safari-add-to-home-screen-button.svg")+'"/>')+'<span class="adhs-emphasis">'+this.textIosSafari3+"</span>")+this._genListItem("3",this.textIosSafari4.replace(/\[APPICON\]/g,'<img class="adhs-your-app-icon" src="'+this.appIconUrl+'"/>'))+this._genListEnd()+this._genModalEnd()+'<div class="adhs-ios-safari-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("ios-safari-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';e.innerHTML=s,e.classList.add("adhs-ios"),e.classList.add("adhs-safari")}_genIOSChrome(e){var s=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",this.textIosChrome1.replace(/\[BUTTON\]/g,'<img class="adhs-ios-chrome-more-button" src="'+this._genAssetUrl("ios-chrome-more-button.svg")+'"/>'))+this._genListItem("2",this.textIosChrome2.replace(/\[EXAMPLEIMAGE\]/g,'<img class="adhs-ios-chrome-add-to-home-screen-button" src="'+this._genAssetUrl("ios-chrome-add-to-home-screen-button.svg")+'"/>')+'<span class="adhs-emphasis">'+this.textIosChrome3+"</span>")+this._genListItem("3",this.textIosChrome4.replace(/\[APPICON\]/g,'<img class="adhs-your-app-icon" src="'+this.appIconUrl+'"/>'))+this._genListEnd()+this._genModalEnd()+'<div class="adhs-ios-chrome-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("ios-chrome-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';e.innerHTML=s,e.classList.add("adhs-ios"),e.classList.add("adhs-chrome")}_genIOSInAppBrowserOpenInSystemBrowser(e){var s=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",this.textIosOpenSysbrowser1.replace(/\[BUTTON\]/g,'<img class="adhs-more-button" src="'+this._genAssetUrl("generic-more-button.svg")+'"/>'))+this._genListItem("2",this.textIosOpenSysbrowser2.replace(/\[ADHS_START\]/g,'<span class="adhs-emphasis">').replace(/\[ADHS_END\]/g,"</span>"))+this._genListEnd()+this._genModalEnd()+'<div class="adhs-inappbrowser-openinsystembrowser-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("generic-vertical-up-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';e.innerHTML=s,e.classList.add("adhs-ios"),e.classList.add("adhs-inappbrowser-openinsystembrowser")}_genIOSInAppBrowserOpenInSafariBrowser(e){var s=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",this.textIosInAppBrowser.replace(/\[BUTTON\]/g,'<img class="adhs-more-button" src="'+this._genAssetUrl("openinsafari-button.png")+'"/>'))+this._genListEnd()+this._genModalEnd()+'<div class="adhs-inappbrowser-openinsafari-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("generic-vertical-down-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';e.innerHTML=s,e.classList.add("adhs-ios"),e.classList.add("adhs-inappbrowser-openinsafari")}_genAndroidChrome(e){var s=this._genLogo()+this._genModalStart()+this._genTitle()+this._genListStart()+this._genListItem("1",this.textAndroidChrome1.replace(/\[BUTTON\]/g,'<img class="adhs-android-chrome-more-button" src="'+this._genAssetUrl("android-chrome-more-button.svg")+'"/>'))+this._genListItem("2",this.textAndroidChrome2.replace(/\[BUTTON\]/g,'<img class="adhs-android-chrome-add-to-homescreen-button" src="'+this._genAssetUrl("android-chrome-add-to-home-screen-button.svg")+'"/>')+this.textAndroidChrome3.replace(/\[INSTALLAPP\]/g,'<img class="adhs-android-chrome-install-app" src="'+this._genAssetUrl("android-chrome-install-app.svg")+'"/>'))+this._genListItem("3",this.textAndroidChrome4.replace(/\[APPICON\]/g,'<img class="adhs-your-app-icon" src="'+this.appIconUrl+'"/>'))+this._genListEnd()+this._genModalEnd()+'<div class="adhs-android-chrome-bouncing-arrow-container">\n      <img src="'+this._genAssetUrl("android-chrome-bouncing-arrow.svg")+'" alt="arrow" />\n    </div>';e.innerHTML=s,e.classList.add("adhs-android"),e.classList.add("adhs-chrome")}_registerCloseListener(){if(this.allowUserToCloseModal){var e=this;this.closeEventListener=function(s){document.getElementsByClassName("adhs-container")[0].getElementsByClassName("adhs-modal")[0].contains(s.target)||e.close()},window.addEventListener("touchstart",this.closeEventListener),window.addEventListener("click",this.closeEventListener)}}clearModalDisplayCount(){this._isEnabledModalDisplayCount()&&window.localStorage.removeItem("adhs-modal-display-count")}_isEnabledModalDisplayCount(){return"number"==typeof this.maxModalDisplayCount&&this.maxModalDisplayCount>=0&&window.localStorage}_hasReachedMaxModalDisplayCount(){return!!this._isEnabledModalDisplayCount()&&this._getModalDisplayCount()>=this.maxModalDisplayCount}_incrModalDisplayCount(){if(!this._isEnabledModalDisplayCount())return!1;var e=this._getModalDisplayCount();return e++,window.localStorage.setItem("adhs-modal-display-count",e),!0}_getModalDisplayCount(){var e=window.localStorage.getItem("adhs-modal-display-count");return null===e?(e=0,window.localStorage.setItem("adhs-modal-display-count",e)):e=parseInt(e),e}static copyToClipboard(){const e=window.location.href;try{window.navigator.clipboard.writeText(e),document.getElementsByClassName("adhs-error-copy-link-button")[0].innerHTML=this.messageLinkCopied}catch(e){document.getElementsByClassName("adhs-error-copy-link-button")[0].innerHTML=this.messageLinkCopiedError}}static formatString(e,s){return e.replace(/{(\d+)}/g,((e,r)=>void 0!==s[r]?s[r]:e))}}e.PHONE_TYPE={ANDROID:"ANDROID",IOS:"IOS"},e.SHOW_ERRMSG_UNSUPPORTED={NONE:0,MOBILE:1,DESKTOP:16,ALL:17},e.ReturnObj=class{constructor({isStandAlone:e,canBeStandAlone:s,device:r}){this.isStandAlone=e,this.canBeStandAlone=s,this.device=r}};const s=e;window.AddToHomeScreen=s,window.AddToHomescreen={}.default})();